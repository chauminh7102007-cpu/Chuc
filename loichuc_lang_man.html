
<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lời chúc 20/10 — Lãng mạn</title>
<style>
  :root{
    --bg1:#fff0f6;
    --bg2:#fbeef6;
    --accent:#d46a93;
    --paper:#fff7fb;
    --text:#4a2a39;
  }
  html,body{height:100%;margin:0;font-family: 'Georgia', 'Times New Roman', serif;background:linear-gradient(180deg,var(--bg1),var(--bg2));overflow:hidden;}
  .wrap{height:100%;display:flex;align-items:center;justify-content:center;position:relative;}
  .letter{
    width:360px;height:240px;background:linear-gradient(180deg,#fff,#fff4fb);border-radius:10px;box-shadow:0 12px 40px rgba(56,12,36,0.12);position:relative;cursor:pointer;transition:transform .7s cubic-bezier(.2,.8,.2,1)}
  .tag{position:absolute;top:-44px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,0.7);padding:8px 14px;border-radius:22px;color:var(--accent);font-weight:700}
  .sheet{position:absolute;left:6%;top:10%;width:88%;height:78%;background:var(--paper);border-radius:6px;padding:20px;box-sizing:border-box;opacity:0;transform:translateZ(0) translateY(-8px) scale(.97);transition:all .6s cubic-bezier(.2,.8,.2,1)}
  .sheet.show{opacity:1;transform:translateY(0) scale(1)}
  h2{margin:0;color:var(--accent);font-size:20px}
  p{margin:8px 0;color:var(--text);line-height:1.6}
  .line{opacity:0;transform:translateY(8px);transition:all .6s ease}
  .line.show{opacity:1;transform:translateY(0)}
  .footer{margin-top:14px;color:#8b4f6c;font-weight:600}
  .hearts{position:absolute;left:50%;bottom:6%;transform:translateX(-50%);pointer-events:none}
  .heart{position:absolute;width:20px;height:20px;background:var(--accent);transform:rotate(-45deg);border-radius:4px 4px 0 0;opacity:0;}
  .heart:before,.heart:after{content:"";position:absolute;width:20px;height:20px;background:var(--accent);border-radius:50%;}
  .heart:before{top:-10px;left:0}
  .heart:after{left:10px;top:0}
  .bg-flowers{position:absolute;inset:0;pointer-events:none;background-image:
    radial-gradient(circle at 20% 30%, rgba(212,106,147,0.06) 0 8px, transparent 9px),
    radial-gradient(circle at 85% 70%, rgba(212,106,147,0.04) 0 12px, transparent 13px);}
  .letter.open{transform:translateY(-36px) rotate(-1deg) scale(1.02)}
  .fadeOut{animation:fadeOut .9s forwards}
  @keyframes fadeOut{to{opacity:0;transform:translateY(30px) scale(.9)}}
</style>
</head>
<body>
<div class="wrap">
  <div class="bg-flowers"></div>
  <div class="letter" id="letter" title="Ấn vào để mở thư">
    <div class="tag">Gửi đến các bạn nữ thân thương 💌</div>
    <div class="sheet" id="sheet" aria-hidden="true">
      <h2>Ngày dành cho nàng</h2>
      <p class="line" id="a1">Ngày 20/10 – ngày để ta dừng lại, ngắm nhìn và trân trọng một nửa yêu thương của thế giới. 🌹</p>
      <p class="line" id="a2">Chúc bạn luôn được yêu thương, được nâng niu và tỏa sáng theo cách của riêng mình.</p>
      <p class="line" id="a3">Cảm ơn bạn vì đã là điều ngọt ngào nhất trong hành trình này 💞</p>
      <p class="line" id="a4">Hẹn gặp lại vào mùa yêu thương năm sau nhé! ✨</p>
      <div class="footer">Cảm ơn vì đã ở đây trong ngày đặc biệt này 💌 Hẹn gặp lại nhé!</div>
    </div>
  </div>
  <div class="hearts" id="hearts"></div>
</div>

<!-- Audio placeholder -->
<audio id="music2" loop>
  <!-- To add music: put file named "music2.mp3" next to this HTML or replace src with a direct MP3 link -->
  <source src="music2.mp3" type="audio/mpeg">
</audio>

<script>
  const letter = document.getElementById('letter');
  const sheet = document.getElementById('sheet');
  const hearts = document.getElementById('hearts');
  const music2 = document.getElementById('music2');
  let opened=false;

  function heartAnim(idx, dir){
    const h = document.createElement('span');
    h.className='heart';
    h.style.left = (50 + (Math.random()*24 - 12)) + 'px';
    hearts.appendChild(h);
    const endX = (dir==='left') ? - (140 + Math.random()*80) : (140 + Math.random()*80);
    setTimeout(()=> {
      h.style.transition = 'transform 2000ms cubic-bezier(.2,.8,.2,1), opacity 1800ms';
      h.style.transform = `translate(${endX}px, -380px) rotate(-45deg) scale(1)`;
      h.style.opacity = 1;
    }, idx*60 + 80);
    setTimeout(()=> h.remove(), 2400 + idx*60);
  }

  function releaseHearts(){
    for(let i=0;i<12;i++){
      setTimeout(()=> heartAnim(i,'left'), i*30);
      setTimeout(()=> heartAnim(i,'right'), i*30 + 120);
    }
  }

  letter.addEventListener('click', ()=>{
    if(opened) return;
    opened=true;
    letter.classList.add('open');
    setTimeout(()=> {
      sheet.classList.add('show');
      sheet.setAttribute('aria-hidden','false');
      const lines = document.querySelectorAll('.line');
      lines.forEach((ln,idx)=> setTimeout(()=> ln.classList.add('show'), idx*450 + 200));
      try { music2.play(); } catch(e){}
      releaseHearts();
      setTimeout(()=> letter.classList.add('fadeOut'), 2300);
    }, 540);
  });

  letter.setAttribute('tabindex','0');
  letter.addEventListener('keydown', (e)=> { if(e.key==='Enter' || e.key===' ') letter.click(); });
</script>
</body>
</html>
